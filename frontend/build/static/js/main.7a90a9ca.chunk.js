(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),c=t.n(l),o=t(8),s=t(41),i=t(69),m=t(68);const u=Object(s.combineReducers)({productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:a.payload.products,pages:a.payload.pages,page:a.payload.page};case"PRODUCT_LIST_FAIL":return{loading:!1,error:a.payload};default:return e}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_DETAILS_REQUEST":return{...e,loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:a.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:a.payload};default:return e}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:a.payload};case"PRODUCT_CREATE_FAIL":return{loading:!1,error:a.payload};case"PRODUCT_CREATE_RESET":return{};default:return e}},productUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:a.payload};case"PRODUCT_UPDATE_FAIL":return{loading:!1,error:a.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return e}},productReviewCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAIL":return{loading:!1,error:a.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return e}},productTopRated:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_TOP_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_SUCCESS":return{loading:!1,products:a.payload};case"PRODUCT_TOP_FAIL":return{loading:!1,error:a.payload};default:return e}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:a.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:a.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:a.payload};case"USER_LOGOUT":return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DETAILS_REQUEST":return{...e,loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,user:a.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:a.payload};case"USER_DETAILS_RESET":return{user:{}};default:return e}},userUpdateProfile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:a.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:a.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:a.payload};case"USER_LIST_FAIL":return{loading:!1,error:a.payload};case"USER_LIST_RESET":return{users:[]};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAIL":return{loading:!1,error:a.payload};default:return e}},userUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:a.payload};case"USER_UPDATE_RESET":return{user:{}};default:return e}}}),E=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],d=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,p={cart:{cartItems:E,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:d}},g=[i.a];var h=Object(s.createStore)(u,p,Object(m.composeWithDevTools)(Object(s.applyMiddleware)(...g))),y=(t(88),t(89),t(23)),S=t(9),v=t(119),_=t(20),C=t(128),T=t(129),b=t(125),R=t(12),f=t.n(R);const U=()=>e=>{localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),e({type:"USER_LOGOUT"}),e({type:"USER_DETAILS_RESET"}),e({type:"USER_LIST_RESET"}),document.location.href="/login"};var I=t(70),O=t.n(I);var L=()=>{const e=Object(o.b)(),a=Object(o.c)(e=>e.userLogin),{userInfo:t}=a;return r.a.createElement("header",null,r.a.createElement(C.a,{className:"nav",collapseOnSelect:!0},r.a.createElement(v.a,null,r.a.createElement(_.LinkContainer,{to:"/"},r.a.createElement(C.a.Brand,{className:"header-logo"},r.a.createElement("img",{alt:"",src:O.a,width:"40",height:"40",className:"d-inline-block align-top logo"})," ",r.a.createElement("div",null,"Simple Life"))),r.a.createElement(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(T.a,{className:"ml-auto"},r.a.createElement(_.LinkContainer,{to:"/"},r.a.createElement(T.a.Link,null,"Home")),r.a.createElement(_.LinkContainer,{to:"/plans"},r.a.createElement(T.a.Link,null,"Plans")),r.a.createElement(_.LinkContainer,{to:"/about"},r.a.createElement(T.a.Link,null,"About")),r.a.createElement(_.LinkContainer,{to:"/contact"},r.a.createElement(T.a.Link,null,"Contact")),t?r.a.createElement(b.a,{title:t.name,id:"username"},r.a.createElement(b.a.Item,{onClick:()=>{e(U())}},"Logout")):r.a.createElement(_.LinkContainer,{to:"/login"},r.a.createElement(T.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," Sign In")),t&&t.isAdmin&&r.a.createElement(b.a,{title:"Admin",id:"adminmenu"},r.a.createElement(_.LinkContainer,{to:"/admin/productlist"},r.a.createElement(b.a.Item,null,"Products"))))))))},N=t(71),w=t(120),D=t(76),A=t(121),P=t(72),k=t.n(P),j=t(73),x=t.n(j),G=t(74),F=t.n(G),Q=t(75),B=t.n(Q);var W=()=>r.a.createElement("div",null,r.a.createElement("section",{className:"home1"},r.a.createElement("div",{className:"home1text"},r.a.createElement("h1",null,"Buying life insurance? ",r.a.createElement("br",null)," A walk in the park."),r.a.createElement("p",null,"We provide life insurance for South ",r.a.createElement("br",null)," Africans. Up to R5 million in coverage ",r.a.createElement("br",null)," for less than you think."),r.a.createElement(N.a,{className:"home-button"},r.a.createElement(_.LinkContainer,{to:"/plans"},r.a.createElement("h2",null,"Get Started")))),r.a.createElement("div",{className:"home-img"},r.a.createElement("img",{src:k.a,alt:""}))),r.a.createElement("section",{className:"home2"},r.a.createElement("div",{className:"home22"},r.a.createElement("div",{className:"home2text"},r.a.createElement("h1",null,"We have simplified the way ",r.a.createElement("br",null),"you buy life insurance")),r.a.createElement("div",{className:"process"},r.a.createElement(v.a,null,r.a.createElement(w.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"col"},r.a.createElement(D.a,{xs:6,md:4},r.a.createElement(A.a,{className:"round-img",src:x.a,roundedCircle:!0}),r.a.createElement("div",{className:"explanation"},r.a.createElement("h5",null,"1. Browse our plans"),r.a.createElement("p",null,"Browse our list of curated life-insurance plans. Each plan is unique, we are confident there will be a plan that fits you and your family.")))),r.a.createElement("div",{className:"col"},r.a.createElement(D.a,{xs:6,md:4},r.a.createElement(A.a,{className:"round-img",src:F.a,roundedCircle:!0}),r.a.createElement("div",{className:"explanation"},r.a.createElement("h5",null,"2. Select your plan"),r.a.createElement("p",null,"Once you are happy with the coverage you would like to purchase, select the plan most suitable to you and your families needs.")))),r.a.createElement("div",{className:"col"},r.a.createElement(D.a,{xs:6,md:4},r.a.createElement(A.a,{className:"round-img",src:B.a,roundedCircle:!0}),r.a.createElement("div",{className:"explanation"},r.a.createElement("h5",null,"3. Agent confirmation"),r.a.createElement("p",null,"One of our life-insurance experts will be in contact with you to confirm your coverage and answer any questions you may have.")))))))))),q=t(130),z=t(126);var J=()=>{const[e,a]=Object(n.useState)(!1),t=()=>a(!1);return r.a.createElement("div",null,r.a.createElement(N.a,{variant:"",size:"sm",className:"enquire-button",onClick:()=>a(!0)},"Enquire now"),r.a.createElement(z.a,{show:e,onHide:t,backdrop:"static",keyboard:!1},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Enquiry Successful")),r.a.createElement(z.a.Body,null,"Thank you for you interest in Simple Life life-insurance. One of our trusted life-insurance agents will contact you to finalize your cover and answer any questions you may have."),r.a.createElement(z.a.Footer,null,r.a.createElement(N.a,{variant:"secondary",onClick:t},"Close"))))};var H=e=>{let{product:a}=e;return r.a.createElement(q.a,{className:"my-3 p-3 rounded product-card"},r.a.createElement("div",{className:"card-content"},r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,{className:"product-title",as:"div"},r.a.createElement("strong",null,a.name)," ",r.a.createElement("br",null)," ",r.a.createElement("span",null,"life insurance")),r.a.createElement(q.a.Text,{className:"product-price",as:"h1"},"R",a.price," ",r.a.createElement("br",null)," ",r.a.createElement("span",null,"/mo")),r.a.createElement("div",{className:"cover-term"},r.a.createElement("div",{className:"cover"},r.a.createElement("div",{className:"cover-text"},r.a.createElement("br",null),r.a.createElement("span",null,"Upto"),r.a.createElement("br",null),r.a.createElement("strong",null,a.cover))),r.a.createElement("div",{className:"term"},r.a.createElement("div",{className:"cover-text"},r.a.createElement("br",null),r.a.createElement("span",null,"Term"),r.a.createElement("br",null),r.a.createElement("strong",null,a.term)))),r.a.createElement("div",{className:"product-description"},r.a.createElement("p",null,a.description)),r.a.createElement(J,null))))},V=t(122);const $=e=>{let{variant:a,children:t}=e;return r.a.createElement(V.a,{variant:a},t)};$.defaultProps={variant:"info"};var M=$,Y=t(123);var K=()=>r.a.createElement(Y.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."));const X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return async t=>{try{t({type:"PRODUCT_LIST_REQUEST"});const{data:n}=await f.a.get(`/api/products?keyword=${e}&pageNumber=${a}`);t({type:"PRODUCT_LIST_SUCCESS",payload:n})}catch(n){t({type:"PRODUCT_LIST_FAIL",payload:n.response&&n.response.data.message?n.response.data.message:n.message})}}};var Z=t(77),ee=t.n(Z);var ae=e=>{let{match:a}=e;const t=a.params.keyword,l=a.params.pageNumber||1,c=Object(o.b)(),s=Object(o.c)(e=>e.productList),{loading:i,error:m,products:u}=s;return Object(n.useEffect)(()=>{c(X(t,l))},[c,t,l]),r.a.createElement("div",{className:"planspage"},r.a.createElement("div",{className:"plan1"},r.a.createElement("div",{className:"plan1text"},r.a.createElement("h1",null,r.a.createElement("strong",null,"Change")," ",r.a.createElement("span",null,"the way you ",r.a.createElement("br",null)," buy life insurance")," "),r.a.createElement("p",null,"Easy to understand and quick to buy. That's the way most things are in ",r.a.createElement("br",null)," your life, why should life insurance be any different?")),r.a.createElement("img",{src:ee.a,alt:""})),r.a.createElement("div",{className:"plan2"},r.a.createElement("div",{className:"plan2text"},r.a.createElement("h3",null,r.a.createElement("strong",null,"Our plans")," ",r.a.createElement("span",null,"make it ",r.a.createElement("br",null)," even simpler for you"))),i?r.a.createElement(K,null):m?r.a.createElement(M,{variant:"danger"},m):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{className:"card-container"},u.map(e=>r.a.createElement(D.a,{key:e._id},r.a.createElement(H,{product:e})))))))},te=t(78),ne=t.n(te);var re=()=>r.a.createElement("div",{className:"about-page"},r.a.createElement("div",null,r.a.createElement("img",{src:ne.a,alt:""})),r.a.createElement("div",{className:"about-text"},r.a.createElement("h2",null,r.a.createElement("strong",null,"We can Save")," ",r.a.createElement("span",null,"you ",r.a.createElement("br",null)," time and money")),r.a.createElement("p",null,"At Simple Life, we guarantee to provide you with the ultimate experience through your process of purchasing life insurance. ",r.a.createElement("br",null),r.a.createElement("br",null),"Our focus is to provide you with a service that saves you time and money, all while providing you with the perfect cover that is best suited to you and your needs. ",r.a.createElement("br",null),r.a.createElement("br",null),"Our team of expert life-insurance agents looks forward to assisting you in your journey and we are always a click or call away when you have any questions or need some assistance. ",r.a.createElement("br",null),r.a.createElement("br",null),"We look forward to welcoming you to our family!"))),le=t(127),ce=t(79),oe=t.n(ce);var se=()=>{const[e,a]=Object(n.useState)(!1),t=()=>a(!1);return r.a.createElement("div",null,r.a.createElement(N.a,{variant:"light",size:"",className:"contact-btn",onClick:()=>a(!0)},"Submit"),r.a.createElement(z.a,{show:e,onHide:t,backdrop:"static",keyboard:!1},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Submission successful")),r.a.createElement(z.a.Body,null,"Thank you for you interest in Simple Life life-insurance. One of our trusted life-insurance agents will contact you to answer any questions you may have."),r.a.createElement(z.a.Footer,null,r.a.createElement(N.a,{variant:"secondary",onClick:t},"Close"))))};var ie=()=>r.a.createElement("div",{className:"contact-page"},r.a.createElement("div",{className:"contact-form"},r.a.createElement("h1",null,"Please enter your contact details below"),r.a.createElement("h5",null,"and a life-insurance ",r.a.createElement("br",null),"professional will ",r.a.createElement("br",null),"contact you"),r.a.createElement(le.a,null,r.a.createElement(le.a.Group,{className:"mb-3",controlId:"formBasicEmail"},r.a.createElement(le.a.Control,{type:"name",placeholder:"Your name..."})),r.a.createElement(le.a.Group,{className:"mb-3",controlId:"formBasicPassword"},r.a.createElement(le.a.Control,{type:"email",placeholder:"Your e-mail...."})),r.a.createElement(le.a.Group,{className:"mb-3",controlId:"formBasicCheckbox"},r.a.createElement(le.a.Control,{type:"number",placeholder:"Your cell-number...."})),r.a.createElement(se,null))),r.a.createElement("div",{className:"contact-img"},r.a.createElement("img",{src:oe.a,alt:""})));var me=e=>{let{children:a}=e;return r.a.createElement(v.a,null,r.a.createElement(w.a,{className:"justify-content-md-center"},r.a.createElement(D.a,{xs:12,md:6},a)))},ue=t(51),Ee=t.n(ue);var de=e=>{let{location:a,history:t}=e;const[l,c]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),m=Object(o.b)(),u=Object(o.c)(e=>e.userLogin),{loading:E,error:d,userInfo:p}=u,g=a.search?a.search.split("=")[1]:"/";Object(n.useEffect)(()=>{p&&t.push(g)},[t,p,g]);return r.a.createElement("div",null,r.a.createElement("div",{className:"signup-bg"},r.a.createElement("h1",null,"We've ",r.a.createElement("br",null),"  Got you ",r.a.createElement("br",null),"Covered"),r.a.createElement("img",{className:"sign-image",src:Ee.a,alt:""})),r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"content"},r.a.createElement(me,null,r.a.createElement("h1",{className:"login-head"},"Welcome Back!"),d&&r.a.createElement(M,{variant:"danger"},d),E&&r.a.createElement(K,null),r.a.createElement(le.a,{onSubmit:e=>{e.preventDefault(),m(((e,a)=>async t=>{try{t({type:"USER_LOGIN_REQUEST"});const n={headers:{"Content-Type":"application/json"}},{data:r}=await f.a.post("/api/users/login",{email:e,password:a},n);t({type:"USER_LOGIN_SUCCESS",payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(d){t({type:"USER_LOGIN_FAIL",payload:d.response&&d.response.data.message?d.response.data.message:d.message})}})(l,s))}},r.a.createElement(le.a.Group,{controlId:"email"},r.a.createElement(le.a.Label,null,"Email Address"),r.a.createElement(le.a.Control,{type:"email",placeholder:"Enter email",value:l,onChange:e=>c(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"password"},r.a.createElement(le.a.Label,null,"Password"),r.a.createElement(le.a.Control,{type:"password",placeholder:"Enter password",value:s,onChange:e=>i(e.target.value)})),r.a.createElement(N.a,{className:"signup-button",type:"submit",variant:"primary"},"Sign In")),r.a.createElement("div",{className:"sign-bottom"},r.a.createElement(w.a,{className:"py-3"},r.a.createElement(D.a,null,"Dont have an account?"," ",r.a.createElement(y.Link,{to:g?"/register?redirect="+g:"/register"},"Sign up"))))))))};var pe=e=>{let{location:a,history:t}=e;const[l,c]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[E,d]=Object(n.useState)(""),[p,g]=Object(n.useState)(null),h=Object(o.b)(),S=Object(o.c)(e=>e.userRegister),{loading:v,error:_,userInfo:C}=S,T=a.search?a.search.split("=")[1]:"/";Object(n.useEffect)(()=>{C&&t.push(T)},[t,C,T]);return r.a.createElement("div",{className:"sign"},r.a.createElement("div",{className:"signup-bg"},r.a.createElement("h1",null,"We've ",r.a.createElement("br",null),"  Got you ",r.a.createElement("br",null),"Covered"),r.a.createElement("img",{className:"sign-image",src:Ee.a,alt:""})),r.a.createElement("div",{className:"signup"},r.a.createElement(me,null,r.a.createElement("h1",{className:"signup-head"},"Get Started!"),p&&r.a.createElement(M,{variant:"danger"},p),_&&r.a.createElement(M,{variant:"danger"},_),v&&r.a.createElement(K,null),r.a.createElement(le.a,{onSubmit:e=>{e.preventDefault(),m!==E?g("Passwords do not match"):h(((e,a,t)=>async n=>{try{n({type:"USER_REGISTER_REQUEST"});const r={headers:{"Content-Type":"application/json"}},{data:l}=await f.a.post("/api/users",{name:e,email:a,password:t},r);n({type:"USER_REGISTER_SUCCESS",payload:l}),n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l))}catch(_){n({type:"USER_REGISTER_FAIL",payload:_.response&&_.response.data.message?_.response.data.message:_.message})}})(l,s,m))}},r.a.createElement(le.a.Group,{controlId:"name"},r.a.createElement(le.a.Label,null,"Name"),r.a.createElement(le.a.Control,{type:"name",placeholder:"Enter name",value:l,onChange:e=>c(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"email"},r.a.createElement(le.a.Label,null,"Email Address"),r.a.createElement(le.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:e=>i(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"password"},r.a.createElement(le.a.Label,null,"Password"),r.a.createElement(le.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:e=>u(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"confirmPassword"},r.a.createElement(le.a.Label,null,"Confirm Password"),r.a.createElement(le.a.Control,{type:"password",placeholder:"Confirm password",value:E,onChange:e=>d(e.target.value)})),r.a.createElement(N.a,{className:"signup-button",type:"submit",variant:"primary"},"Sign Up")),r.a.createElement("div",{className:"sign-bottom"},r.a.createElement(w.a,{className:"py-3"},r.a.createElement(D.a,null,"Already Registered?"," ",r.a.createElement(y.Link,{to:T?"/login?redirect="+T:"/login"},"Sign in")))))))},ge=t(124);var he=e=>{let{history:a,match:t}=e;const l=t.params.pageNumber||1,c=Object(o.b)(),s=Object(o.c)(e=>e.productList),{loading:i,error:m,products:u}=s,E=Object(o.c)(e=>e.productDelete),{loading:d,error:p,success:g}=E,h=Object(o.c)(e=>e.productCreate),{loading:y,error:S,success:v,product:C}=h,T=Object(o.c)(e=>e.userLogin),{userInfo:b}=T;Object(n.useEffect)(()=>{c({type:"PRODUCT_CREATE_RESET"}),b&&b.isAdmin||a.push("/login"),v?a.push(`/admin/product/${C._id}/edit`):c(X("",l))},[c,a,b,g,v,C,l]);const R=e=>{window.confirm("Are you sure")&&c((e=>async(a,t)=>{try{a({type:"PRODUCT_DELETE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{Authorization:"Bearer "+n.token}};await f.a.delete("/api/products/"+e,r),a({type:"PRODUCT_DELETE_SUCCESS"})}catch(m){const t=m.response&&m.response.data.message?m.response.data.message:m.message;"Not authorized, token failed"===t&&a(U()),a({type:"PRODUCT_DELETE_FAIL",payload:t})}})(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{className:"align-items-center"},r.a.createElement(D.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(D.a,{className:"text-right"},r.a.createElement(N.a,{className:"my-3 create-btn",onClick:()=>{c(async(e,a)=>{try{e({type:"PRODUCT_CREATE_REQUEST"});const{userLogin:{userInfo:t}}=a(),n={headers:{Authorization:"Bearer "+t.token}},{data:r}=await f.a.post("/api/products",{},n);e({type:"PRODUCT_CREATE_SUCCESS",payload:r})}catch(m){const t=m.response&&m.response.data.message?m.response.data.message:m.message;"Not authorized, token failed"===t&&e(U()),e({type:"PRODUCT_CREATE_FAIL",payload:t})}})}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),d&&r.a.createElement(K,null),p&&r.a.createElement(M,{variant:"danger"},p),y&&r.a.createElement(K,null),S&&r.a.createElement(M,{variant:"danger"},S),i?r.a.createElement(K,null):m?r.a.createElement(M,{variant:"danger"},m):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"COVER"),r.a.createElement("th",null,"TERM"),r.a.createElement("th",null))),r.a.createElement("tbody",null,u.map(e=>r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"R",e.price),r.a.createElement("td",null,e.cover),r.a.createElement("td",null,e.term),r.a.createElement("td",{className:"icons"},r.a.createElement(_.LinkContainer,{to:`/admin/product/${e._id}/edit`},r.a.createElement(N.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(N.a,{variant:"danger",className:"btn-sm",onClick:()=>R(e._id)},r.a.createElement("i",{className:"fas fa-trash"})))))))))};var ye=e=>{let{match:a,history:t}=e;const l=a.params.id,[c,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(0),[u,E]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[g,h]=Object(n.useState)(""),[S,v]=Object(n.useState)(""),_=Object(o.b)(),C=Object(o.c)(e=>e.productDetails),{loading:T,error:b,product:R}=C,I=Object(o.c)(e=>e.productUpdate),{loading:O,error:L,success:w}=I;Object(n.useEffect)(()=>{var e;w?(_({type:"PRODUCT_UPDATE_RESET"}),t.push("/admin/productlist")):R.name&&R._id===l?(s(R.name),m(R.price),E(R.image),p(R.cover),h(R.term),v(R.description)):_((e=l,async a=>{try{a({type:"PRODUCT_DETAILS_REQUEST"});const{data:t}=await f.a.get("/api/products/"+e);a({type:"PRODUCT_DETAILS_SUCCESS",payload:t})}catch(b){a({type:"PRODUCT_DETAILS_FAIL",payload:b.response&&b.response.data.message?b.response.data.message:b.message})}}))},[_,t,l,R,w]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.Link,{to:"/admin/productlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(me,null,r.a.createElement("h1",null,"Edit Product"),O&&r.a.createElement(K,null),L&&r.a.createElement(M,{variant:"danger"},L),T?r.a.createElement(K,null):b?r.a.createElement(M,{variant:"danger"},b):r.a.createElement(le.a,{onSubmit:e=>{e.preventDefault(),_((e=>async(a,t)=>{try{a({type:"PRODUCT_UPDATE_REQUEST"});const{userLogin:{userInfo:n}}=t(),r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.token}},{data:l}=await f.a.put("/api/products/"+e._id,e,r);a({type:"PRODUCT_UPDATE_SUCCESS",payload:l}),a({type:"PRODUCT_DETAILS_SUCCESS",payload:l})}catch(b){const t=b.response&&b.response.data.message?b.response.data.message:b.message;"Not authorized, token failed"===t&&a(U()),a({type:"PRODUCT_UPDATE_FAIL",payload:t})}})({_id:l,name:c,price:i,image:u,cover:d,term:g,description:S}))}},r.a.createElement(le.a.Group,{controlId:"name"},r.a.createElement(le.a.Label,null,"Name"),r.a.createElement(le.a.Control,{type:"name",placeholder:"Enter name",value:c,onChange:e=>s(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"price"},r.a.createElement(le.a.Label,null,"Price"),r.a.createElement(le.a.Control,{type:"number",placeholder:"Enter price",value:i,onChange:e=>m(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"cover"},r.a.createElement(le.a.Label,null,"Cover"),r.a.createElement(le.a.Control,{type:"text",placeholder:"Enter cover amount",value:d,onChange:e=>p(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"term"},r.a.createElement(le.a.Label,null,"Term"),r.a.createElement(le.a.Control,{type:"text",placeholder:"Enter category",value:g,onChange:e=>h(e.target.value)})),r.a.createElement(le.a.Group,{controlId:"description"},r.a.createElement(le.a.Label,null,"Description"),r.a.createElement(le.a.Control,{type:"text",placeholder:"Enter description",value:S,onChange:e=>v(e.target.value)})),r.a.createElement(N.a,{className:"create-btn",type:"submit",variant:"primary"},"Update"))))};var Se=()=>r.a.createElement(y.BrowserRouter,null,r.a.createElement(L,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(v.a,null,r.a.createElement(S.d,{path:"/login",component:de}),r.a.createElement(S.d,{path:"/register",component:pe}),r.a.createElement(S.d,{path:"/admin/productlist",component:he,exact:!0}),r.a.createElement(S.d,{path:"/admin/productlist/:pageNumber",component:he,exact:!0}),r.a.createElement(S.d,{path:"/admin/product/:id/edit",component:ye}),r.a.createElement(S.d,{path:"/search/:keyword",component:ae,exact:!0}),r.a.createElement(S.d,{path:"/page/:pageNumber",component:ae,exact:!0}),r.a.createElement(S.d,{path:"/search/:keyword/page/:pageNumber",component:ae,exact:!0}),r.a.createElement(S.d,{path:"/",component:W,exact:!0}),r.a.createElement(S.d,{path:"/plans",component:ae,exact:!0}),r.a.createElement(S.d,{path:"/about",component:re,exact:!0}),r.a.createElement(S.d,{path:"/contact",component:ie,exact:!0}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:h},r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},51:function(e,a,t){e.exports=t.p+"static/media/family.c13d41a7.png"},70:function(e,a,t){e.exports=t.p+"static/media/logo.73d31155.png"},72:function(e,a,t){e.exports=t.p+"static/media/park.6fbb439f.jpeg"},73:function(e,a,t){e.exports=t.p+"static/media/browse.eb516653.png"},74:function(e,a,t){e.exports=t.p+"static/media/select.eca777b3.png"},75:function(e,a,t){e.exports=t.p+"static/media/agent.f80cf840.jpeg"},77:function(e,a,t){e.exports=t.p+"static/media/plans.249db5a3.png"},78:function(e,a,t){e.exports=t.p+"static/media/about.e3c124e4.png"},79:function(e,a,t){e.exports=t.p+"static/media/contact.d39cb86c.png"},80:function(e,a,t){e.exports=t(116)},88:function(e,a,t){},89:function(e,a,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.7a90a9ca.chunk.js.map